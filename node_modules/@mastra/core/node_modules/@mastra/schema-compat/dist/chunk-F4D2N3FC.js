import { z } from 'zod';
import zodToJsonSchemaOriginal from 'zod-to-json-schema';

// src/zod-to-json.ts
function zodToJsonSchema(zodSchema, target = "jsonSchema7") {
  const fn = "toJSONSchema";
  if (fn in z) {
    return z[fn](zodSchema, {
      unrepresentable: "any",
      override: (ctx) => {
        const def = ctx.zodSchema?._zod?.def;
        if (def && def.type === "date") {
          ctx.jsonSchema.type = "string";
          ctx.jsonSchema.format = "date-time";
        }
      }
    });
  } else {
    return zodToJsonSchemaOriginal(zodSchema, {
      $refStrategy: "none",
      target
    });
  }
}

export { zodToJsonSchema };
//# sourceMappingURL=chunk-F4D2N3FC.js.map
//# sourceMappingURL=chunk-F4D2N3FC.js.map